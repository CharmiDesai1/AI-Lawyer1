{"ast":null,"code":"import _toConsumableArray from\"D:/WE TalentSprint/AI-Lawyer/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"D:/WE TalentSprint/AI-Lawyer/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/WE TalentSprint/AI-Lawyer/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/WE TalentSprint/AI-Lawyer/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import parse from'html-react-parser';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Chat1=function Chat1(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),message=_useState4[0],setMessage=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),previousChats=_useState6[0],setPreviousChats=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),currentTitle=_useState8[0],setCurrentTitle=_useState8[1];var createNewChat=function createNewChat(){setMessage(null);setValue(\"\");setCurrentTitle(null);};var handleClick=function handleClick(uniqueTitle){setCurrentTitle(uniqueTitle);setMessage(null);setValue(\"\");};var getMessages=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var options,response,data,ans,role,showdown,converter,html;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:options={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({message:value})};_context.prev=1;showloader();_context.next=5;return fetch('http://localhost:8001/completions',options);case 5:response=_context.sent;_context.next=8;return response.json();case 8:data=_context.sent;ans=data.choices[0].message.content;role=data.choices[0].message.role;showdown=require('showdown'),converter=new showdown.Converter(),html=converter.makeHtml(ans);if(html){hideloader();}setMessage({role:role,content:html});_context.next=19;break;case 16:_context.prev=16;_context.t0=_context[\"catch\"](1);console.error(_context.t0);case 19:case\"end\":return _context.stop();}},_callee,null,[[1,16]]);}));return function getMessages(){return _ref.apply(this,arguments);};}();useEffect(function(){if(!currentTitle&&value&&message){setCurrentTitle(value);}if(currentTitle&&value&&message){setPreviousChats(function(previousChats){return[].concat(_toConsumableArray(previousChats),[{title:currentTitle,role:\"user\",content:value},{title:currentTitle,role:message.role,content:message.content}]);});}},[value,message,currentTitle]);var currentChat=previousChats.filter(function(previousChat){return previousChat.title===currentTitle;});var uniqueTitles=Array.from(new Set(previousChats.map(function(previousChat){return previousChat.title;})));function hideloader(){document.getElementById('loading').style.visibility='hidden';}function showloader(){document.getElementById('loading').style.visibility='visible';}return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"side-bar\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:createNewChat,children:\"+ New chat\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"history\",children:uniqueTitles===null||uniqueTitles===void 0?void 0:uniqueTitles.map(function(uniqueTitle,index){return/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){return handleClick(uniqueTitle);},children:uniqueTitle},index);})}),/*#__PURE__*/_jsx(\"nav\",{children:/*#__PURE__*/_jsx(\"p\",{children:\"Happy searching\"})})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"main\",children:[!currentTitle&&/*#__PURE__*/_jsx(\"h1\",{children:\"LegalMind for Children Law\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"feed\",children:currentChat===null||currentChat===void 0?void 0:currentChat.map(function(chatMessage,index){return/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"role\",children:chatMessage.role}),/*#__PURE__*/_jsx(\"p\",{children:parse(chatMessage.content)})]},index);})}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",id:\"loading\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bottom-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"input\",{value:value,onChange:function onChange(e){return setValue(e.target.value);}}),/*#__PURE__*/_jsx(\"div\",{id:\"submit\",onClick:getMessages,children:\"\\u27A2\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"info\",children:\"Free Research Preview. ChatGPT may produce inaccurate information about people, places, or facts. ChatGPT May 24 Version\"})]})]})]});};export default Chat1;","map":{"version":3,"names":["React","useState","useEffect","parse","jsx","_jsx","jsxs","_jsxs","Chat1","_useState","_useState2","_slicedToArray","value","setValue","_useState3","_useState4","message","setMessage","_useState5","_useState6","previousChats","setPreviousChats","_useState7","_useState8","currentTitle","setCurrentTitle","createNewChat","handleClick","uniqueTitle","getMessages","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","options","response","data","ans","role","showdown","converter","html","wrap","_callee$","_context","prev","next","method","headers","body","JSON","stringify","showloader","fetch","sent","json","choices","content","require","Converter","makeHtml","hideloader","t0","console","error","stop","apply","arguments","concat","_toConsumableArray","title","currentChat","filter","previousChat","uniqueTitles","Array","from","Set","map","document","getElementById","style","visibility","className","children","onClick","index","chatMessage","id","onChange","e","target"],"sources":["D:/WE TalentSprint/AI-Lawyer/src/children.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport parse from 'html-react-parser';\r\n\r\nconst Chat1 = () => {\r\n  const [value, setValue] = useState(null);\r\n  const [message, setMessage] = useState(null);\r\n  const [previousChats, setPreviousChats] = useState([]);\r\n  const [currentTitle, setCurrentTitle] = useState(null);\r\n\r\n  const createNewChat = () => {\r\n    setMessage(null);\r\n    setValue(\"\");\r\n    setCurrentTitle(null);\r\n  }\r\n\r\n  const handleClick = (uniqueTitle) => {\r\n    setCurrentTitle(uniqueTitle);\r\n    setMessage(null);\r\n    setValue(\"\");\r\n  }\r\n\r\n  const getMessages = async () => {\r\n    const options = {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        message: value\r\n      })\r\n    } \r\n    try {\r\n      showloader();\r\n\r\n      const response = await fetch('http://localhost:8001/completions', options);\r\n      const data = await response.json();\r\n      const ans = data.choices[0].message.content;\r\n      const role = data.choices[0].message.role;\r\n      \r\n      var showdown = require('showdown'),\r\n      converter = new showdown.Converter(),\r\n      html = converter.makeHtml(ans);\r\n      \r\n      if (html) {\r\n        hideloader();\r\n      }\r\n\r\n      setMessage({ role: role, content: html });\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!currentTitle && value && message) {\r\n      setCurrentTitle(value);\r\n    }\r\n    if (currentTitle && value && message) {\r\n      setPreviousChats(previousChats => ([\r\n        ...previousChats,\r\n        {\r\n          title: currentTitle,\r\n          role: \"user\",\r\n          content: value\r\n        },\r\n        {\r\n          title: currentTitle,\r\n          role: message.role,\r\n          content: message.content\r\n        }\r\n      ]));\r\n    }\r\n  }, [value, message, currentTitle]);\r\n\r\n  const currentChat = previousChats.filter(previousChat => previousChat.title === currentTitle);\r\n  const uniqueTitles = Array.from(new Set(previousChats.map(previousChat => previousChat.title)));\r\n\r\n  function hideloader() {\r\n    document.getElementById('loading').style.visibility = 'hidden';\r\n  }\r\n\r\n  function showloader() {\r\n    document.getElementById('loading').style.visibility = 'visible';\r\n  }\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <section className=\"side-bar\">\r\n        <button onClick={createNewChat}>+ New chat</button>\r\n        <ul className=\"history\">\r\n          {uniqueTitles?.map((uniqueTitle, index) => <li key={index} onClick={() => handleClick(uniqueTitle)}>{uniqueTitle}</li>)}\r\n        </ul>\r\n        <nav>\r\n          <p>Happy searching</p>\r\n        </nav>\r\n      </section>\r\n\r\n      <section className=\"main\">\r\n        {!currentTitle && <h1>LegalMind for Children Law</h1>}\r\n        <ul className=\"feed\">\r\n          {currentChat?.map((chatMessage, index) => (\r\n            <li key={index}>\r\n              <p className=\"role\">{chatMessage.role}</p>\r\n              <p>{parse(chatMessage.content)}</p>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n\r\n        <div className=\"d-flex justify-content-center\">\r\n          <div className=\"spinner-border\" role=\"status\">\r\n            <span className=\"sr-only\" id=\"loading\"></span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bottom-container\">\r\n          <div className=\"input-container\">\r\n            <input value={value} onChange={(e) => setValue(e.target.value)} />\r\n            <div id=\"submit\" onClick={getMessages}>&#10146;</div>\r\n          </div>\r\n          <p className=\"info\">\r\n            Free Research Preview. ChatGPT may produce inaccurate information about people, places, or facts. ChatGPT May 24 Version\r\n          </p>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Chat1;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}